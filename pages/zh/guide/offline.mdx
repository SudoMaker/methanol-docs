---
title: 离线访问 (PWA)
description: PWA 集成与离线访问配置指南。
weight: 10
---

# 离线访问 (PWA)

Methanol 内置 PWA 支持，提供自研 Service Worker 与预缓存清单。它会在安装时预缓存关键资源，并在后台按版本增量更新其余内容。

## 启用 PWA

在 `methanol.config.js` 中开启：

```js
export default () => ({
	pwa: true
})
```

### 自定义 Manifest

你可以按需自定义 PWA Manifest 与预缓存策略：

```js
export default () => ({
	pwa: {
		manifest: {
			name: 'My Site',
			short_name: 'My Site'
		},
		precache: {
			include: ['**/*.{html,js,css,ico,png,svg,webp,jpg,jpeg,gif,woff,woff2,ttf}'],
			exclude: ['**/*.map', '**/pagefind/**']
		}
	}
})
```

### 进阶配置

如需完全自定义 PWA 行为，请设置 `pwa: false` 并自行提供 manifest / Service Worker。

## 自定义离线页面

创建 `pages/offline.mdx` 可自定义离线回退页面；`pages/404.mdx` 可自定义未找到页面。两者默认不会出现在导航中。
