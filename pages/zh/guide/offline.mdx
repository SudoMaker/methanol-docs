---
title: 离线访问 (PWA)
description: PWA 集成与离线访问配置指南。
weight: 10
starryNight: true
---

# 离线访问 (PWA)

若希望赋予站点离线访问能力，可集成 [`vite-plugin-pwa`](https://vite-pwa-org.netlify.app)。

## 安装

```bash
npm install vite-plugin-pwa -D
```

## 配置

在 `methanol.config.js` 中添加插件：

```js
import { VitePWA } from 'vite-plugin-pwa'

export default () => ({
	vite: {
		plugins: [
			VitePWA({
				injectRegister: 'auto',
				registerType: 'autoUpdate',
				workbox: {
					globPatterns: ['**/*.{js,css,html,ico,png,svg}'],
					navigateFallback: '/404.html',
					ignoreURLParametersMatching: [/./]
				}
			})
		]
	}
})
```

该配置将自动缓存标准网页资源，并在遭遇未知路由时回退至 404 页面。
