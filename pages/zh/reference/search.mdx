---
title: 搜索
description: Pagefind 静态全文检索的启用与高级配置。
weight: 6
---

# 搜索

Methanol 集成了 [Pagefind](https://pagefind.app) 静态全文检索方案。为确保开发环境的轻快体验，搜索功能默认处于关闭状态。

搜索功能仅在生产构建中生效。开发服务器模式下不会生成 Pagefind 索引，亦不提供相关搜索 UI。

## 安装

推荐在项目中执行本地安装：

```bash
npm i -D pagefind
```

亦可进行全局安装：

```bash
npm i -g pagefind
```

## 启用与禁用

在 `methanol.config.*` 中配置 `pagefind` 选项：

```js
// methanol.config.js
export default () => ({
	pagefind: true
})
```

显式禁用：

```js
// methanol.config.js
export default () => ({
	pagefind: false
})
```

## 详细配置对象

```js
export default () => ({
	pagefind: {
		enabled: true,
		excerptLength: 30,
		build: {
			outputSubdir: 'pagefind',
			verbose: true
		}
	}
})
```

除 `enabled` 与 `build` 属性外的字段，将在客户端运行时传递给 Pagefind UI。

## CLI 覆盖

可在执行构建时通过命令行参数覆盖配置文件中的搜索启用状态：

```bash
npx methanol build --search
npx methanol build --no-search
```

## 集成第三方搜索方案

若需切换至其他搜索系统：

1) 将 `pagefind` 设为 `false`。
2) 自行实现搜索 UI 与索引构建流程。

默认主题仅在 `pagefind` 启用时渲染搜索组件；一旦禁用，开发者需完全自主实现搜索界面。
