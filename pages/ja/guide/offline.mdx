# オフライン対応 (PWA)

Methanol は、Workbox を基盤とした PWA（Progressive Web App）機能を標準搭載しています。Service Worker の実装は高度に最適化されており、大規模なドキュメントサイトであっても、スムーズなインストールと効率的なコンテンツ更新を両立します。

## PWA の有効化

PWA 機能を有効にするには、`methanol.config.js` を以下のように更新します。

```js
export default () => ({
	pwa: true
})
```

### Manifest のカスタマイズ

PWA の Manifest や `injectManifest` の設定を自由にカスタマイズ可能です。

```js
export default () => ({
	pwa: {
		manifest: {
			name: 'My Site',
			short_name: 'My Site'
		},
		injectManifest: {
			globPatterns: ['**/*.{js,css,html,ico,png,svg}']
		}
	}
})
```

### 高度なカスタマイズ

Service Worker の戦略など、PWA のライフサイクルを詳細に制御したい場合は、`pwa: false` に設定した上で、`vite.plugins` セクションに独自の `vite-plugin-pwa` 設定を追加してください。

## オフライン専用ページ

`pages/offline.mdx` を作成することで、ユーザーがオフラインで、かつ要求されたコンテンツがキャッシュされていない場合に表示されるフォールバックページをカスタマイズできます。
