---
title: 言語スイッチ
description: ctx.languages / ctx.language で言語切り替え UI を描画する。
weight: 6
starryNight: true
---

# 言語スイッチ

Methanol の多言語は「ディレクトリ単位」です。ディレクトリの `index.mdx` に `lang` があると、そのディレクトリが言語エントリとして扱われます。

テンプレートでは次が利用できます:

- `ctx.languages`: 言語エントリ一覧
- `ctx.language`: 現在アクティブな言語エントリ（なければ `null`）

各エントリは `routePath`, `routeHref`, `label`, `code` を持ちます。

## シンプルな `<select>` スイッチャー

```jsx
const LanguageSwitch = ({ ctx }) => {
	const languages = Array.isArray(ctx.languages) ? ctx.languages : []
	if (!languages.length) return null
	const currentHref = ctx.language?.routeHref || null
	return (
		<select
			aria-label="Select language"
			onchange="location.href=this.value"
			value={currentHref || undefined}
		>
			{languages.map((lang) => (
				<option value={lang.routeHref} selected={lang.routeHref === currentHref ? true : null}>
					{lang.label}
				</option>
			))}
		</select>
	)
}
```

## リンク一覧のバリアント

```jsx
const LanguageLinks = ({ ctx }) => {
	const languages = Array.isArray(ctx.languages) ? ctx.languages : []
	if (!languages.length) return null
	const currentHref = ctx.language?.routeHref
	return (
		<nav aria-label="Languages">
			{languages.map((lang) => (
				<a href={lang.routeHref} aria-current={lang.routeHref === currentHref ? 'page' : null}>
					{lang.label}
				</a>
			))}
		</nav>
	)
}
```

補足:

- リンクには `routeHref` を使ってください（`site.base` を含みます）。
- 言語ルートに `isRoot: true` を併用すると、言語ごとにナビゲーションツリーを分けられます。

