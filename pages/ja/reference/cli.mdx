---
title: CLI
description: CLI コマンドの詳細解説および引数・フラグ。
weight: 1
---

# CLI

Methanol には、開発サーバーの起動、静的サイトのビルド、およびローカルでのプレビューを行うための軽量な CLI ツールが付属しています。

## 基本コマンド

`npx` を使用して実行する方法（推奨）:

```bash
npx methanol dev      # 開発サーバーを起動
npx methanol build    # dist/ ディレクトリにビルド成果物を出力
npx methanol serve    # ビルド済みの成果物をローカルでプレビュー
```

CLI の起動速度を向上させたい場合は、グローバルインストールを検討してください。

```bash
npm install methanol -g
methanol dev
```

`input`（入力）および `output`（出力）ディレクトリは、位置引数として指定可能です（順序にご注意ください）。

```bash
npx methanol build ./pages ./dist
```

`dev` コマンドは `input` 引数のみを受け付けます。

```bash
npx methanol dev ./pages
```

## 主要なフラグ一覧

- `--input`, `-i`: `pages/` ディレクトリの設定を上書きします。
- `--components`: `components/` ディレクトリの設定を上書きします。
- `--assets`: `public/` ディレクトリの設定を上書きします。
- `--output`, `-o`: `dist/` ディレクトリの設定を上書きします。
- `--config`, `-c`: 設定ファイルのパスを明示的に指定します。
- `--theme`: 設定ファイルの `theme` を上書きします。文字列を指定した場合、Methanol はまず組み込みテーマ（`default`、`blog` など）から検索し、見つからない場合は `methanol-theme-xxx`（`xxx` は指定した文字列）という名前のパッケージを検索します。ローカルテーマを使う場合は `methanol.config.*` で import して `theme` に渡してください。
- `--site-name`: 設定ファイルのサイト名を上書きします。
- `--owner`: `site.owner` を上書きします。
- `--base`: 今回の実行に限り `site.base` を上書きします（`dev` モードでは無視されます）。
- `--port`: 開発およびプレビューサーバーのポート番号（デフォルト: 5173）。
- `--host`: サーバーを指定したホストにバインドします（`--host` 単体指定ですべてのインターフェースにバインドします）。
- `--intermediate-dir`: 中間 HTML の出力先ディレクトリ（`build` 時のみ有効）。
- `--emit-intermediate`: `build/` ディレクトリへの中間 HTML 出力を有効化します（`build` 時のみ有効）。
- `--highlight`/`--no-highlight`: 構文ハイライトの有効/無効を制御します。
- `--jobs`, `-j`: ビルド時のワーカースレッド数を指定します（`0` はページ数に応じて自動設定）。
- `--search`/`--no-search`: Pagefind による検索インデックス生成の有効/無効を制御します。
- `--rss`/`--no-rss`: RSS/Atom フィードの出力を制御します。
- `--atom`/`--no-atom`: Atom 出力の有効/無効を制御します（`--rss` を内包）。
- `--pwa`/`--no-pwa`: PWA 機能サポートの有効/無効を制御します。
- `-v`, `--verbose`: 詳細なログを出力します（ビルド時の Vite や Pagefind のログが含まれます）。

構文ハイライトはデフォルトで有効です。実行時に `--no-highlight` を指定すると無効化できます。

`serve`/`preview` では、最初の位置引数が出力ディレクトリになります：

```bash
npx methanol serve ./dist
```

## npx を使用しない場合

```bash
node node_modules/methanol/bin/methanol.js dev
```
