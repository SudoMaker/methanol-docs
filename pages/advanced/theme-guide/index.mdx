---
title: Theme Guide
description: A step-by-step guide to building a custom theme, from directory structure to template implementation.
weight: 4
---

# Theme Guide

This guide provides a comprehensive walkthrough for building a custom Methanol theme, covering layouts, components, and optional theme-provided pages or assets. You will learn how to implement core framework components such as navigation, tables of contents, and multi-language support.

## Recommended Directory Structure

A standard theme layout typically follows this structure:

```
theme/
  index.js          # Theme object entry point
  page.jsx          # Layout template component
  components/       # Default MDX components (optional)
  pages/            # Theme-provided pages (optional)
  public/           # Theme-specific static assets (optional)
  sources/          # Asset mappings via theme.sources (optional)
```

## Theme Configuration

Enable your theme in `methanol.config.js` by specifying its root and template:

```js
import PageTemplate from './theme/page.jsx'

export default () => ({
	theme: {
		root: './theme',
		template: PageTemplate
	}
})
```

## Theme Object Definition

Typically, you define the theme paths in `theme/index.js`:

```js
import PageTemplate from './page.jsx'

export default () => ({
	theme: {
		root: '.',
		template: PageTemplate,
		componentsDir: './components',
		pagesDir: './pages',
		publicDir: './public',
		sources: {
			'/theme': './sources'
		}
	}
})
```

## Template Specification (Template Contract)

The `theme.template` function receives the following properties:

- `ctx`: Current page and site context.
- `page`: Alias for `ctx.page`.
- `PageContent`: Component that renders the current page body.
- `ExtraHead`: Dynamic content to be injected into the `<head>` (runtime, assets, and per-page `<Head>` output).
- `withBase`: Base-aware URL helper (functionally identical to `ctx.withBase`).
- `components`: Merged component set (theme defaults plus user overrides).
- `HTMLRenderer`: rEFui rendering utilities.

Minimum template implementation:

```jsx
import { HTMLRenderer } from 'methanol'

export default ({ PageContent, ExtraHead, ctx }) => (
	<>
		{HTMLRenderer.rawHTML`<!doctype html>`}
		<html lang="en">
			<head>
				<meta charset="UTF-8" />
				<meta name="viewport" content="width=device-width" />
				<ExtraHead />
				<title>{ctx.page.title || ctx.site.name}</title>
			</head>
			<body>
				<PageContent />
			</body>
		</html>
	</>
)
```

For production-ready themes, you will typically need to integrate several standard modules. The following sections cover these in detail:

- [Render navigation](./navigation)
- [Render a Table of Contents (ToC)](./toc)
- [Adjacent page links](./prev-next)
- [Language switching](./language-switch)
- [Special-purpose pages](./special-pages)
