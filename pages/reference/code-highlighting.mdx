---
title: Code Highlighting
description: Configuring and extending syntax highlighting within the Methanol pipeline.
weight: 5
starryNight: true
---

# Code Highlighting

Methanol utilizes [Starry Night](https://github.com/wooorm/starry-night) to provide robust syntax highlighting (integrated via `rehype-starry-night`). For optimal build performance, this feature is disabled by default.

## Enabling and Disabling

Activate the feature globally by adding `starryNight` to your `methanol.config.*` file:

```js
// methanol.config.js
export default () => ({
	starryNight: true
})
```

To explicitly disable the feature:

```js
// methanol.config.js
export default () => ({
	starryNight: false
})
```

You can also toggle highlighting per-execution via the CLI:

```bash
npx methanol build --highlight
npx methanol build --highlight false
```

## Per-page Configuration

Frontmatter settings take priority and can override global configurations for individual pages:

```mdx
---
starryNight: true
---
```

## Standalone Highlighting Integrations

If you prefer an alternative highlighting solution:

1) Disable the built-in Starry Night support (`starryNight: false`).
2) Integrate your preferred rehype plugin within the `mdx` configuration section.

```js
export default () => ({
	starryNight: false,
	mdx: () => ({
		rehypePlugins: [/* your custom highlighting plugin */]
	})
})
```

## Styles and Appearance

Methanol does not automatically inject CSS for code highlighting. The visual appearance is managed by the active theme, or can be customized by providing your own stylesheet.

## Extending Language Support

Starry Night includes a standard set of grammars. To support additional languages, include them in the `starryNight.grammars` array:

```js
import { common } from '@wooorm/starry-night'
import sourceMDX from '@wooorm/starry-night/source.mdx'

export default () => ({
	starryNight: {
		grammars: [...common, sourceMDX]
	}
})
```

*Note: Ensure the `@wooorm/starry-night` package is installed in your project to load these grammars.*
